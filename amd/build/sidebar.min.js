define ("local_qtracker/sidebar",["exports","jquery","core/templates"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;b=d(b);c=d(c);function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function f(a){return function(){var b=this,c=arguments;return new Promise(function(d,f){var i=a.apply(b,c);function g(a){e(i,d,f,g,h,"next",a)}function h(a){e(i,d,f,g,h,"throw",a)}g(void 0)})}}function g(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function h(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}function i(a,b,c){if(b)h(a.prototype,b);if(c)h(a,c);return a}function j(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})}else{a[b]=c}return a}var k=function(){function a(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1,e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"right",f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:!1,h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:"40%",i=5<arguments.length&&arguments[5]!==void 0?arguments[5]:"0px",k=6<arguments.length&&arguments[6]!==void 0?arguments[6]:!0,l=7<arguments.length&&arguments[7]!==void 0?arguments[7]:[];g(this,a);j(this,"hidden",null);j(this,"loading",null);j(this,"width",null);j(this,"margin",null);j(this,"container",null);j(this,"closable",null);j(this,"options",null);this.container=(0,b.default)(c);this.hidden=!d;this.visible=d;this.side=e;this.loading=f;this.width=h;this.margin=i;this.closable=k;this.options=l;this.mql=window.matchMedia("(min-width: 768px)");this.mql.addEventListener("change",this.screenTest.bind(this));this.render=this.render.bind(this)}i(a,[{key:"screenTest",value:function screenTest(a){if(!this.visible){return}if(a.matches){(0,b.default)("#qtracker-sidebar").css("width","calc("+this.width+" - -1.25rem)");(0,b.default)(".qtracker-push-pane-over").css("padding-"+this.getSide(),"calc("+this.width+" - -"+this.margin+")")}else{(0,b.default)("#qtracker-sidebar").css("width","100%");(0,b.default)(".qtracker-push-pane-over").css("padding-"+this.getSide(),"0")}}},{key:"render",value:function(){var a=f(regeneratorRuntime.mark(function a(){var b=this,d,e;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:d=this;e={};if(this.closable){e.close={key:"fa-times",title:"Close",alt:"Close pane",extraclasses:"",unmappedIcon:!1}}if(0<this.options.length){e.options={trigger:{key:"fa-filter",title:"Options",alt:"Show options",extraclasses:"",unmappedIcon:!1},header:!1,items:d.options}}a.next=6;return c.default.render("local_qtracker/sidebar",e).then(function(a,d){c.default.replaceNodeContents(b.container,a,d);b.setVisibility(!b.hidden);b.setLoading(b.loading);b.setSide(b.side);b.screenTest(b.mql)});case 6:case"end":return a.stop();}}},a,this)}));return function render(){return a.apply(this,arguments)}}()},{key:"getSide",value:function getSide(){return this.side}},{key:"getOppositeSide",value:function getOppositeSide(){return"left"==this.side?"right":"left"}},{key:"setWidth",value:function setWidth(a,b){this.width=a;this.width2=b;this.screenTest(this.mql)}},{key:"isMobileWidth",value:function isMobileWidth(){return!this.mql.matches}},{key:"setSide",value:function setSide(a){if("right"==a){(0,b.default)("#qtracker-sidebar").addClass("qtracker-sidebar-right");(0,b.default)("#qtracker-sidebar").removeClass("qtracker-sidebar-left")}else if("left"==a){(0,b.default)("#qtracker-sidebar").addClass("qtracker-sidebar-left");(0,b.default)("#qtracker-sidebar").removeClass("qtracker-sidebar-right")}}},{key:"setTitle",value:function setTitle(a){(0,b.default)(".qtracker-sidebar-title").html(a)}},{key:"setLoading",value:function setLoading(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!0;if(a){(0,b.default)(".qtracker-sidebar-content .loading").addClass("show");this.loading=!0}else{(0,b.default)(".qtracker-sidebar-content .loading").removeClass("show");this.loading=!1}}},{key:"empty",value:function empty(){(0,b.default)(".qtracker-sidebar-content .qtracker-items").empty()}},{key:"addTemplateItem",value:function addTemplateItem(a,b){c.default.appendNodeContents(".qtracker-sidebar-content .qtracker-items",a,b)}},{key:"getItems",value:function getItems(){return(0,b.default)(".qtracker-sidebar-content .qtracker-items").children()}},{key:"getContainer",value:function getContainer(){return this.container}},{key:"hide",value:function hide(){if(!this.hidden){this.setVisibility(!1)}}},{key:"show",value:function show(){if(this.hidden){this.setVisibility(!0)}}},{key:"setVisibility",value:function setVisibility(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!0;if(a){(0,b.default)(".qtracker-push-pane-over").css("padding-"+this.getSide(),"calc("+this.width+" - -"+this.margin+")");(0,b.default)("#qtracker-sidebar").addClass("show");this.screenTest(this.mql)}else{(0,b.default)(".qtracker-push-pane-over").css("padding-"+this.getSide(),"0");(0,b.default)("#qtracker-sidebar").removeClass("show")}this.hidden=!a;this.visible=a}},{key:"togglePane",value:function togglePane(){(0,b.default)(".qtracker-container").toggleClass("qtracker-push-pane-over");(0,b.default)("#qtracker-sidebar").toggleClass("show");this.hidden=!this.hidden}},{key:"decodeHTML",value:function decodeHTML(a){var b=new DOMParser().parseFromString(a,"text/html");return b.documentElement.textContent}}]);return a}();a.default=k;return a.default});
//# sourceMappingURL=sidebar.min.js.map
